<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Dashboard</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>    
  <ion-card *ngFor="let i of devices">
    <ion-card-content>
        <ion-grid>
            <ion-row>
              <ion-col col-11>
                <ion-row>
                  <ion-col col-2 style="text-align:center">
                      <h1>
                        <ion-icon ios="ios-bulb" md="md-bulb"></ion-icon>
                      </h1>
                  </ion-col>
                  <ion-col>
                    <h1>
                        {{ i.device }}
                    </h1>
                  </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col col-2 style="text-align:center">
                        <h2>
                          <a (click)="initCall(i.mobile)">
                            <ion-icon ios="ios-call" md="md-call"></ion-icon>
                          </a>
                        </h2>
                    </ion-col>
                    <ion-col>
                      <h2>
                        <a (click)="initCall(i.mobile)">
                          {{ i.mobile }}
                        </a>
                      </h2>
                    </ion-col>
                  </ion-row>
              </ion-col>
              <ion-col style="text-align:right">
                  <h1 (click)="openActionSheet(i)"><ion-icon ios="ios-more" md="md-more"></ion-icon></h1>
              </ion-col>
            </ion-row>
            <ion-row > <!-- (click)="updateDevice(i)" -->
              <ion-col col-6 (click)="onDevice(i)">
                <div class="onButtonControl" [class]="i.state == 1 ? 'onButtonControl onactive' : 'onButtonControl'">
                  <a class="onButton">ON</a>
                </div>
              </ion-col>
              <ion-col col-6 (click)="offDevice(i)">
                <div class="offButtonControl" [class]="i.state == 0 ? 'offButtonControl offactive' : 'offButtonControl'">
                  <a class="offButton">OFF</a>
                </div>
              </ion-col>
              <!-- <ion-col col-6 class="bulbCol" [style.border-color]="i.state ? 'rgba(75, 183, 49, 0.3)':'rgba(0,0,0,0.3)'">
                <img [src]="!i.state ? 'assets/icon/on.svg' : 'assets/icon/off.svg'" />
              </ion-col> -->
            </ion-row>
          </ion-grid>
            <!-- <ion-toggle (ionChange)="updateDevice(i)" checked="i.state" [(ngModel)]="i.state"></ion-toggle> -->
    </ion-card-content>

    <!-- <ion-row no-padding style="margin-bottom: -4px">
      <ion-col no-padding>
        <button style="border-radius:0px" ion-button (click)="editDevice(i)" block color="warning" icon-start>
          <ion-icon name='create'></ion-icon>
          Edit
        </button>
      </ion-col>
      <ion-col text-right no-padding>
        <button style="border-radius:0px" (click)="deleteDevice(i)" ion-button block color="danger" icon-start>
          <ion-icon name='trash'></ion-icon>
          Delete
        </button>
      </ion-col>
    </ion-row> -->
  </ion-card>

  <ion-fab right bottom>
      <button (click)="presentPrompt()" ion-fab color="primary"><ion-icon name="add"></ion-icon></button>
    </ion-fab>
</ion-content>
